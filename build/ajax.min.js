/**
 * Name: iMoney.js v1.1.0
 * Author: Thunk
 * Url: http://imoney.w3cmm.com/
 * Time: 2015-07-18 4:08:45 AM 
*/
$.define(function(){function a(){}function b(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function c(a,b,c){var d=c.context,e="success";c.success.call(d,a,e,b)}function d(a,b,c,d){var e=d.context;d.error.call(e,c,b,a)}var e=0,f={type:"GET",dataType:"json",success:a,error:a,complete:a,context:null,global:!0,accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0};return iMoney.extend({ajaxJSONP:function(a){var b,f,g=a.jsonpCallback,h=g||"jsonp"+ ++e,i=document.createElement("script"),j=window[h];i.addEventListener("error",function(){clearTimeout(f),d(null,"error",null,a)}),i.addEventListener("load",function(){clearTimeout(f),iMoney(i).remove(),c(b[0],null,a),window[h]=j,b&&iMoney.isFunction(j)&&j(b[0]),j=b=void 0}),window[h]=function(){b=arguments},i.src=a.url.replace(/\?(.+)=\?/,"?$1="+h),document.head.appendChild(i),a.timeout>0&&(f=setTimeout(function(){throw new Error("timeout")},a.timeout))},ajax:function(e){var g,h=$.extend(f,e||{}),i=new XMLHttpRequest,j=[];if((g=h.url.indexOf("#"))>-1&&(h.url=h.url.slice(0,g)),"object"==typeof h.data){for(key in h.data)j.push(key+"="+h.data[key]);h.data=j.join("&"),"GET"==h.type.toUpperCase()&&(h.url=b(h.url,j),h.data=void 0)}var k=h.dataType,l=/\?.+=\?/.test(h.url);if(l&&(k="jsonp"),"jsonp"==k)return l||(h.url=b(h.url,h.jsonp?h.jsonp+"=?":h.jsonp===!1?"":"callback=?")),iMoney.ajaxJSONP(h);var m={},n=function(a,b){m[a.toLowerCase()]=[a,b]};if(n("Content-Type",h.contentType||"application/x-www-form-urlencoded; charset=UTF-8"),h.headers)for(name in h.headers)n(name,h.headers[name]);i.onreadystatechange=function(){if(4==i.readyState){var b,e=!1;if(i.onreadystatechange=a,i.status>=200&&i.status<300||304==i.status){b=i.responseText;try{"json"==k&&(b=/^\s*$/.test(b)?null:JSON.parse(b))}catch(f){e=f}e?(i.abort(),d(null,"abort",i,h)):c(b,i,h)}}};var o="async"in h?h.async:!0;i.open(h.type,h.url,o,h.username,h.password);for(name in m)i.setRequestHeader.apply(i,m[name]);return i.send(h.data?h.data:null),i}}),iMoney});